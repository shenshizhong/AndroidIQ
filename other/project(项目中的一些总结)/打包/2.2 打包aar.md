

aar 打包
```
目的：模块复用，快速开发多个app
aar 包含class 和 res资源文件




在项目中，新建一个module库：
新建项目AARDemo -> File -> new -> new Module -> aarlibrary 创建一个库

点击as右上角 Gradle， AARDemo —> aarlibrary -> Tasks -> build -> assemble （备注：如果只打release，
可以使用 Tasks -> other -> assembleRelease）
就会在aarlibrary 的build 中 build -> outputs -> aar -> aarlibrary-release.aar

在项目 app.gradle 中:

在app文件夹下，添加libs，放入 aarlibrary-release.aar
//资源库
repositories{
    flatDir {dirs 'libs'} //平面地址，地址是'libs'
}

dependencies {
    implementation fileTree(dir:'libs', include: ['*.jar'])
    implementation(name:'aarlibrary-release', ext:'aar')
}


注意事项：
打包的aar 不能包含 aar。
如果包含需要使用第三方库：https://github.com/kezong/fat-aar-android

```
[详细地址：https://blog.csdn.net/sziitjin/article/details/96433836](https://blog.csdn.net/sziitjin/article/details/96433836)
[详细地址：https://www.jianshu.com/p/1777a634db5e](https://www.jianshu.com/p/1777a634db5e)
[注意事项：https://blog.csdn.net/gaoshu28/article/details/113555589](https://blog.csdn.net/gaoshu28/article/details/113555589)


在项目使用带有第三库的aar
```
目的：加快编译速度。

1、打包aar：

plugins {
    id 'com.android.library'
    id 'maven'   //新增
}

dependencies {
    implementation 'androidx.appcompat:appcompat:1.2.0'
}
//新增
uploadArchives{
    repositories.mavenDeployer{
        repository(url: uri('../repository'))
        pom.groupId = "com.example.aarlibrary" //包名
        pom.artifactId = "aarlibrary" //项目名称
        pom.version = "1.0"  //版本号
    }
}

使用命令：./gradlew uploadArchives


2、项目中使用
在项目外层的build.gradle中添加：

allprojects {
    repositories {
        google()
        jcenter()

        //去repository中找aar
        maven {
            url '../repository'
        }
    }
}

在项目app 的build.gradle中添加：

implementation 'com.example.aarlibrary:aarlibrary:1.0'



出现 uploadArchives 失败的情况，比如，当一个aar依赖另外一个aar的情况，找不到aar。
处理：
先对最底层的lib进行uploadArchives。

操作： 先在 Edit Configurations 中添加一个gradle. 
Gradle project: chanzai:lib
Tasks: uploadArchives

然后执行绿色箭头就可以了

总结：
运行整个项目。先把每个最底层lib  uploadArchives一下，

然后将 app的build删除，再整个项目进行uploadArchives，最后运行就可以了
```
[详细地址：https://blog.csdn.net/xmxkf/article/details/80674232?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.no_search_link&spm=1001.2101.3001.4242.1](https://blog.csdn.net/xmxkf/article/details/80674232?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.no_search_link&spm=1001.2101.3001.4242.1)