1、死锁的四个必要条件？
```
死锁产生的原因

1. 系统资源的竞争

系统资源的竞争导致系统资源不足，以及资源分配不当，导致死锁。

2. 进程运行推进顺序不合适

互斥条件：一个资源每次只能被一个进程使用，即在一段时间内某 资源仅为一个进程所占有。
         此时若有其他进程请求该资源，则请求进程只能等待。

请求与保持条件：进程已经保持了至少一个资源，但又提出了新的资源请求，而该资源 
         已被其他进程占有，此时请求进程被阻塞，但对自己已获得的资源保持不放。

不可剥夺条件:进程所获得的资源在未使用完毕之前，不能被其他进程强行夺走，即只能 
         由获得该资源的进程自己来释放（只能是主动释放)。

循环等待条件: 若干进程间形成首尾相接循环等待资源的关系

这四个条件是死锁的必要条件，只要系统发生死锁，这些条件必然成立，而只要上述条件之一不满足，就不会发生死锁。

死锁的避免与预防：

死锁避免的基本思想:

系统对进程发出每一个系统能够满足的资源申请进行动态检查,并根据检查结果决定是否
分配资源,如果分配后系统可能发生死锁,则不予分配,否则予以分配。这是一种保证系统
不进入死锁状态的动态策略。

理解了死锁的原因，尤其是产生死锁的四个必要条件，就可以最大可能地避免、预防和解除死锁。
所以，在系统设计、进程调度等方面注意如何让这四个必要条件不成立，如何确定资源的
合理分配算法，避免进程永久占据系统资源。此外，也要防止进程在处于等待状态的情况下
占用资源。因此，对资源的分配要给予合理的规划。

死锁避免和死锁预防的区别：

死锁预防是设法至少破坏产生死锁的四个必要条件之一,严格的防止死锁的出现,而死锁避免
则不那么严格的限制产生死锁的必要条件的存在,因为即使死锁的必要条件存在,也不一定发生
死锁。死锁避免是在系统运行过程中注意避免死锁的最终发生。
```
2、如何实现线程同步？ 
```
1、synchronized关键字修改的方法。
2、synchronized关键字修饰的语句块
3、使用特殊域变量（volatile）实现线程同步
```
3、如何保证线程安全？
```
1.synchronized；
2.Object方法中的wait,notify；
3.ThreadLocal机制   来实现的。
```